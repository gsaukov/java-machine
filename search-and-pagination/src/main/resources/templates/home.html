<html xmlns:th="http://www.w3.org/1999/xhtml">
<head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="../static/css/bootstrap.min.css" th:href="@{/static/css/bootstrap.min.css}" rel="stylesheet" id="bootstrap-css">
    <link href="../static/css/font-awesome.css" th:href="@{/static/css/font-awesome.css}" rel="stylesheet">
    <link href="../static/css/custom.css" th:href="@{/static/css/custom.css}" rel="stylesheet" />
    <link href="../static/css/fontelloembedded.css" th:href="@{/static/css/fontelloembedded.css}" rel="stylesheet" />
    <link href="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/css/ol.css" rel="stylesheet" >


    <script src="../static/js/jquery-3.3.1.min.js"></script>
    <script src="../static/js/popper.min.js" ></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/openlayers/2.12/OpenLayers.min.js"></script>
    <script src="https://www.openstreetmap.org/openlayers/OpenStreetMap.js"></script>
    <script src="https://cdn.rawgit.com/openlayers/openlayers.github.io/master/en/v5.3.0/build/ol.js"></script>

</head>

<body>
<div id="wrapper" class="toggled">

     <!--Sidebar-->
    <div id="sidebar-wrapper">
    <ul class="sidebar-nav">
    <li class="sidebar-brand">
    <a href="#">
    Start Bootstrap
    </a>
    </li>
    <li>
    <a href="#">Dashboard</a>
    </li>
    <li>
    <a href="#" onclick="getHome('accounthome/')">Accounts</a>
    </li>
    <li>
    <a href="#" onclick="getHome('tradehome/')">Trades</a>
    </li>
    <li>
    <a href="#">Events</a>
    </li>
    <li>
    <a href="#">About</a>
    </li>
    <li>
    <a href="#">Services</a>
    </li>
    <li>
    <a href="#">Contact</a>
    </li>
    </ul>
    </div>


    <div id="page-content-wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12" >
                    <div class="row">
                        <a href="#menu-toggle" class="btn btn-default" id="menu-toggle">Menu</a>
                        <a href="#collapseOne" class="btn btn-default" for="collapseOne" data-toggle="collapse" aria-expanded="false" aria-controls="collapseOne">Form</a>
                        <a href="#collapseTwo" class="btn btn-default" for="collapseTwo" data-toggle="collapse" aria-expanded="false" aria-controls="collapseTwo">Data</a>
                    </div>
                    <div id="homeBlock">
                        <div th:fragment="home(file, fragment)">
                            <div th:replace="${file} :: ${fragment}"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mapBlock"></div>
            <div id="detailsBlock"></div>
        </div>
    </div>
</div>

<script src="../static/js/AddressMap.js"></script>

<script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
    });
</script>

<script>
    function submitForm(e, formId, targetId) {
        var form = document.getElementById(formId)
        var table = document.getElementById(targetId)
        e.preventDefault();
        $.ajax({
                data: $(form).serialize(),
                type: $(form).attr('method'),
                url: $(form).attr('action'),
                success: function(response) {
                    <!--console.log("response", response);-->
                    $(table).replaceWith(response);
                    }
                });
    }
</script>

<script>
    function getHome(urlParam) {
        window.event.preventDefault();
        $("#wrapper").toggleClass("toggled");
        $("#homeBlock").load(urlParam);
    }
</script>

<script>
    function getTable(urlParam, pageNum, size) {
        window.event.preventDefault();
        var url = urlParam + '&page=' + pageNum + '&size=' + size;
        console.log("url", url);
        $("#resultBlock").load(url);
    }
</script>

<script>
    function getDetails(urlParam, detailId) {
        window.event.preventDefault();
        var url = urlParam + '/?detailId=' + detailId;
        var divId = "#" + detailId;
        console.log("divId", divId);

        var divElem = document.getElementById(detailId);
        if (divElem === null){
            $('#detailsBlock').append("<div id=\"" + detailId + "\"><\/div>");
            console.log("url", url);
            $(divId).load(url);
        }
    }
</script>

<script>
    function removeDetails(detailId) {
        window.event.preventDefault();
        var divId = "#" + detailId;
        $(divId).fadeOut("normal", function() {
            $(this).remove();
        });
    }
</script>

</body>
</html>