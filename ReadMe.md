Hi, welcome to Java-machine repository.

## Foreword.

This is the place where I try something new with Java, its common libraries and frameworks. Besides Java you will find here a lot of Javascript and stuff from frontend in one of my projects search-and-pagination SPA application.

In my professional career I value tests, clean code and common code patterns among projects. I do development in this project in my free time usually 1 to 3 hrs a day and I really have to choose between covering existing stuff with tests or trying something new, something always wins, so I lack tests. Since its a training/POC repository I use different ways to do same thing, just to have grip on different approaches, it makes the code less clear but leaves alternatives in implementation. Please keep in mind that I really lack time to conduct clean here, so if you see something does not look good to you, sorry, its a place where learning and concept proving is in focus.

## Setup and run.

Most of the repository modules are selfexplanatory, quite easy to run and require no additional setup. That does not apply to search-and-pagination (SDApplication) that is highly dependant external applications and systems.

## SDApplication.

SDApplication is a multipart part project, Frontend and cloud server side.

## Frontend
is single page application that utilizes latest technologies:

>    Styles: bootstrap, font-awesome, fontelloembedded and more.
>    Maps: OpenLayers, OpenStreetMap, ol, leaflet.
>    Data Visualizations: d3.v5

Frontend HTML when not client side generated comes from server back end SearchDataApplication server and its templates.
JS and static resources, CSS and images are pulled from nginx.
Parts of JS could be also found in templates/thymleaf blocks when they are only invoked from block content or highly coupled with it.

## SearchDataApplication
is a resource server intended to generate various content for frontend Single Page Application. SDApplication runs behind Zuul and supports full authentication and deep method security based on JWT token generated by Justitia. Enables CSRF protection. Thymleaf is used for HTML templating and server side page rendering. Data is taken from MySql and Cassandra datasources and should be generated by DataTaskApplication. Server keeps custom javascript to provide browser side page rendering and JS library support (OpenLayers.js, OpenStreetMap.js, d3.v5.js and more).

To run SearchDataApplication requires:
MySql dabase @ datasource:

       url: jdbc:mysql://localhost:55555/sdapplication?useLegacyDatetimeCode=false&serverTimezone=UTC
       username: sdapplication
       password: password
       Schema:
          CREATE USER 'sdapplication'@'localhost' IDENTIFIED BY 'password';
          CREATE DATABASE sdapplication;
          GRANT ALL PRIVILEGES ON sdapplication.* TO 'sdapplication'@'localhost';
          USE sdapplication;

Redis MEM Cash:

       redis.host: 127.0.0.1
       redis.port: 6379

Cassandra (com.apps.searchandpagination.cassandra.config.CassandraConfig)

       cluster.setContactPoints("127.0.0.1");
        cluster.setPort(9042);


Depends on:

       Cloud.zuul port: 8090
       Cloud.justitia port: 8002
       Cloud.discovery port: 8761
       Python cartography server https://github.com/gsaukov/python-machine/tree/master/core/httpserver : ThreadedServer.py
       nginx static content server. (localhost:9020)


Optional:

       Cloud.Zipkin port: 9411


## Zuul

Zuul is a middleware server between browser and cloud ecosystem. Zuul is a proxy server that only passes downstream authorized requests that are associated with session stored in Spring session(Redis). If request is not associated with any session (anonynous not allowed) responce will redirect caller to Justitia Spring outh2 server. Justitia will authentacate caller if he provides correct credential and redirect caller back to Zuul with authorization code in URL. With this code Zuul will call Justitia and obtain users Authentaication token, which will further be associated with a session. Token will be stored in Session and persisted in Redis. User will obtain SESSIONID cookie. Enables CORS and SSL. Has Hystrix, Feign clients.

Zuul setup requires:
Redis MEM Cash:

       redis.host: 127.0.0.1
       redis.port: 6379

Depends on:

       Cloud.justitia port: 8002
       Cloud.discovery port: 8761

Optional:

       Cloud.Zipkin port: 9411


## Justitia
Spring boot oauth2 server implementation inteded to keep sensetive credential data and generate JWT tokens for external and internal systems.

Justitia setup requires:
MySql dabase @ datasource:

        url: jdbc:mysql://localhost:55555/justitia?useLegacyDatetimeCode=false&serverTimezone=UTC
        username: justitia
        password: password
       Schema:
          CREATE USER 'justitia'@'localhost' IDENTIFIED BY 'password';
          CREATE DATABASE justitia;
          GRANT ALL PRIVILEGES ON justitia.* TO 'justitia'@'localhost';
          USE justitia;

Redis MEM Cash:

       redis.host: 127.0.0.1
       redis.port: 6379

Depends on:

       Cloud.discovery port: 8761

Optional:

       Cloud.Zipkin port: 9411


## Discovery
spring cloud discovery server.

Discovery setup requires:
Optional:

       Cloud.Zipkin port: 9411


## Cartography
Cartography server
Is a data parser server that renders overwhelming maps. Uses Pandas, Mathplotlib, Folium.
requires:

       no dependencies run https://github.com/gsaukov/python-machine/tree/master/core/httpserver : ThreadedServer.py

